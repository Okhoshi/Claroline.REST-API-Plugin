#--------------------------------------------------
# Répertoire : /articles/
#--------------------------------------------------

# Le serveur doit suivre les liens symboliques :
Options +FollowSymlinks

# Activation du module de réécriture d'URL :
RewriteEngine on

#--------------------------------------------------
# Règles de réécriture d'URL :
#--------------------------------------------------

# 
RewriteBase /Claroline/module/MOBILE/

#In case of CLDOC/getResources, Query String must be used
RewriteCond %{QUERY_STRING} recursive=|curDirPath=
RewriteRule ^([a-zA-Z]+)/([a-zA-Z]+)/?([a-zA-Z0-9]*)/?$ ?module=$1&method=$2&cidReq=$3&cidReset [QSA,L]

#Detect the debug flag
RewriteCond %{QUERY_STRING} debug
RewriteRule ^([a-zA-Z]+)/([a-zA-Z]+)/?([a-zA-Z0-9]*)/?([0-9]*)/?$ ?module=$1&method=$2&cidReset&cidReq=$3&resID=$4&debug [L]

RewriteRule ^([a-zA-Z]+)/([a-zA-Z]+)/?([a-zA-Z0-9]*)/?([0-9]*)/?$ ?module=$1&method=$2&cidReset&cidReq=$3&resID=$4 [L]